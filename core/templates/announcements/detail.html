{% extends 'base.html' %}

{% block title %}{{ announcement.title }} - Django App{% endblock %}

{% block content %}
  <div class="announcement-detail">
    <nav class="breadcrumb">
      <a href="{% url 'home' %}">Home</a> &gt; 
      <a href="{% url 'announcements_list' %}">Announcements</a> &gt; 
      {{ announcement.title }}
    </nav>
    
    <h2>{{ announcement.title }}</h2>
    
    <p class="announcement-meta">
      <small>Published: {{ announcement.created_at|date:"F d, Y" }}</small>
      {% if announcement.updated_at != announcement.created_at %}
        <small> | Updated: {{ announcement.updated_at|date:"F d, Y" }}</small>
      {% endif %}
    </p>
    
    <div class="announcement-content">
      <div id="content-preview" class="content-preview">
        {{ announcement.content|truncatewords:50 }}
      </div>
      
      <div id="content-full" class="content-full" style="display: none;">
        {{ announcement.content|linebreaks }}
      </div>
      
      <button id="toggle-content" class="toggle-btn" onclick="toggleContent()">Read more</button>
    </div>
    
    <div class="announcement-actions">
      <a href="{% url 'announcements_list' %}" class="back-link">‚Üê Back to Announcements</a>
    </div>
  </div>

  <script>
    function toggleContent() {
      const preview = document.getElementById('content-preview');
      const full = document.getElementById('content-full');
      const button = document.getElementById('toggle-content');
      
      if (full.style.display === 'none') {
        preview.style.display = 'none';
        full.style.display = 'block';
        button.textContent = 'Show less';
      } else {
        preview.style.display = 'block';
        full.style.display = 'none';
        button.textContent = 'Read more';
      }
    }
  </script>
{% endblock %}
